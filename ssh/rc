# By default, SSH_AUTH_SOCK points to a different location each time the agent
# is forwarded. This breaks tmux because SSH_AUTH_SOCK will be pointing to a
# wrong location.
#
# The solution is to fix SSH auth socket location so agent forwarding works
# with tmux This breaks X11 forwarding -- see here for how to fix it:
# https://gist.github.com/martijnvermaat/8070533
#
# Additionally, we need to set the environment variable to point to this
# location in ~/.tmux.conf
if test "$SSH_AUTH_SOCK" ; then
  ln -sf $SSH_AUTH_SOCK ~/.ssh/ssh_auth_sock
fi
